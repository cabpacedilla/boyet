 
<!-- 
This webpage is a basic calculator.
This code was assembled and written by Claive Alvin P. Acedilla. It can be copied, modified and redistributed.
November 2019
-->
		
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		
		<meta http-equiv="Content-type" content="text/html; charset=UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1">
		<title>Basic Calculator</title>
	</head>

	<body>
		<h1>Basic Calculator</h1>
		
		<input type="text" id="txtInputAndResult">
		<br>
		<br>
		<input type="button" id="btnMemoryClear" value="MC" onclick="memoryClear()"><input type="button" id="btnMemoryRecall" value="MR" onclick="memoryRecall()"><input type="button" id="btnMemorySubtraction"value="M-" onclick="memorySubstraction()"><input type="button" id="btnMemoryAddition"value="M+" onclick="memoryAddition()"><br>
		<input type="button" id="btnClear" value="C" onclick="Clear()"><input type="button" id="btnChangeSign" value="+/-" onclick="changeSign()"><input type="button" id="btnSquareRoot" value="SQRT" onclick="computeSquareRoot()"><input type="button" id="btnPercentage" value="%" onclick="computePercentage()"><br>
		<input type="button" id="btnSeven" value="7" onclick="displayInput(this)"><input type="button" id="btnEight" value="8" onclick="displayInput(this)"><input type="button" id="btnNine" value="9" onclick="displayInput(this)"><input type="button" id="btnDivision" value=" / " onclick="displayInput(this)"><br>
		<input type="button" id="btnFour" value="4" onclick="displayInput(this)"><input type="button" id="btnFive" value="5" onclick="displayInput(this)"><input type="button" id="btnSix"  value="6" onclick="displayInput(this)"><input type="button" id="btnMultiplication" value=" x " onclick="displayInput(this)"><br>
		<input type="button" id="btnOne" value="1" onclick="displayInput(this)"><input type="button" id="btnTwo" value="2" onclick="displayInput(this)"><input type="button" id="btnThree" value="3" onclick="displayInput(this)"><input type="button" id="btnSubtraction"  value=" - " onclick="displayInput(this)"><br>
		<input type="button" id="btnZero" value="0" onclick="displayInput(this)"><input type="button" id="btnDecimal" value="." onclick="displayInput(this)"><input type="button" id="btnEquals" value=" = " onclick="displayInput(this)"><input type="button" id="btnAddition" value=" + " onclick="displayInput(this)"><br>
	
		<script type="text/javascript">	
		
		var input = document.getElementById("txtInputAndResult");
		var inputString = document.getElementById("txtInputAndResult").value

		// Execute a function when the user releases a key on the keyboard
		input.addEventListener("keyup", function(event) 
			{
			  // Number 13 is the "Enter" key on the keyboard
			  if (event.keyCode === 13) 
				  {
				    // Cancel the default action, if needed
				    event.preventDefault();
				    // Trigger the button element with a click
				    document.getElementById("btnEquals").click();
				  }
			  
			  if (event.keyCode === 48 || event.keyCode === 96) 
			  	{
				  	inputString = document.getElementById("txtInputAndResult").value; 
					inputString = inputString.substring(0, inputString.length - 1);
					document.getElementById("txtInputAndResult").value = inputString;
				  	document.getElementById("btnZero").click();
				}
			  
			  if (event.keyCode === 49 || event.keyCode === 97) 
			  	{
				  	inputString = document.getElementById("txtInputAndResult").value; 
					inputString = inputString.substring(0, inputString.length - 1);
					document.getElementById("txtInputAndResult").value = inputString;
				  	document.getElementById("btnOne").click();
				}
			  
			  if (event.keyCode === 50 || event.keyCode === 98) 
			  	{
				  	inputString = document.getElementById("txtInputAndResult").value; 
					inputString = inputString.substring(0, inputString.length - 1);
					document.getElementById("txtInputAndResult").value = inputString;
				  	document.getElementById("btnTwo").click();
				}
			  
			  if (event.keyCode === 51 || event.keyCode === 99) 
			  	{
				  	inputString = document.getElementById("txtInputAndResult").value; 
					inputString = inputString.substring(0, inputString.length - 1);
					document.getElementById("txtInputAndResult").value = inputString;
				  	document.getElementById("btnThree").click();
				}
			  
			  if (event.keyCode === 52 || event.keyCode === 100) 
			  	{
				  	inputString = document.getElementById("txtInputAndResult").value; 
					inputString = inputString.substring(0, inputString.length - 1);
					document.getElementById("txtInputAndResult").value = inputString;
				  	document.getElementById("btnFour").click();
				}
			  
			  if (event.keyCode === 53 || event.keyCode === 101) 
			  	{
				  	inputString = document.getElementById("txtInputAndResult").value; 
					inputString = inputString.substring(0, inputString.length - 1);
					document.getElementById("txtInputAndResult").value = inputString;
				  	document.getElementById("btnFive").click();
				}
			  
			  if (event.keyCode === 54 || event.keyCode === 102) 
			  	{
				  	inputString = document.getElementById("txtInputAndResult").value; 
					inputString = inputString.substring(0, inputString.length - 1);
					document.getElementById("txtInputAndResult").value = inputString;
				  	document.getElementById("btnSix").click();
				}
			  
			  if (event.keyCode === 55 || event.keyCode === 103) 
			  	{
				  	inputString = document.getElementById("txtInputAndResult").value; 
					inputString = inputString.substring(0, inputString.length - 1);
					document.getElementById("txtInputAndResult").value = inputString;
				  	document.getElementById("btnSeven").click();
				}
			  
			  if (event.keyCode === 56 || event.keyCode === 104) 
			  	{
				  	inputString = document.getElementById("txtInputAndResult").value; 
					inputString = inputString.substring(0, inputString.length - 1);
					document.getElementById("txtInputAndResult").value = inputString;
				  	document.getElementById("btnEight").click();
				}
			  
			  if (event.keyCode === 57 || event.keyCode === 105) 
			  	{
				  	inputString = document.getElementById("txtInputAndResult").value; 
					inputString = inputString.substring(0, inputString.length - 1);
					document.getElementById("txtInputAndResult").value = inputString;
				  	document.getElementById("btnNine").click();
				}
			  
			  if (event.keyCode === 191 || event.keyCode === 111) 
				  {
				  	inputString = document.getElementById("txtInputAndResult").value; 
					inputString = inputString.substring(0, inputString.length - 1);
					document.getElementById("txtInputAndResult").value = inputString;
					document.getElementById("btnDivision").click();
				  }
			  
			  if (event.keyCode === 88 || event.keyCode === 106) 
				  {
				  	inputString = document.getElementById("txtInputAndResult").value; 
					inputString = inputString.substring(0, inputString.length - 1);
					document.getElementById("txtInputAndResult").value = inputString;
					document.getElementById("btnMultiplication").click();
				  }
			 
			  if (event.keyCode === 189 || event.keyCode === 109) 
				  {
				  	inputString = document.getElementById("txtInputAndResult").value; 
					inputString = inputString.substring(0, inputString.length - 1);
					document.getElementById("txtInputAndResult").value = inputString;
					document.getElementById("btnSubtraction").click();
				  }
			  
			  if (event.keyCode === 187) 
				  {
				  	inputString = document.getElementById("txtInputAndResult").value; 
					inputString = inputString.substring(0, inputString.length - 1);
					document.getElementById("txtInputAndResult").value = inputString;
					document.getElementById("btnAddition").click();
				  }
			  
			  if (event.keyCode === 190) 
				  {
				  	inputString = document.getElementById("txtInputAndResult").value; 
					inputString = inputString.substring(0, inputString.length - 1);
					document.getElementById("txtInputAndResult").value = inputString;
					document.getElementById("btnDecimal").click();
				  }
			});
				
		function memoryClear()
			{
				document.getElementById("txtInputAndResult").value = "";
			}
		
		function Clear()
			{
				var inputString;
				inputString = document.getElementById("txtInputAndResult").value				
				inputString = inputString.substring(0, inputString.length - 2);
				document.getElementById("txtInputAndResult").value = inputString;
			}
		
		function changeSign()
			{
				var inputString;
				inputString = document.getElementById("txtInputAndResult").value;
				inputString = inputString.split(" ");
				lastNumber = inputString[inputString.length - 1];
				lastNumber = parseFloat(lastNumber);
				lastNumber = lastNumber * -1;    
				inputString = inputString.join(" ");
				inputString = inputString.substring(0, inputString.length - 1);
				document.getElementById("txtInputAndResult").value = inputString + lastNumber;
			}
		
		function computeSquareRoot()
			{
				var inputString;
				inputString = document.getElementById("txtInputAndResult").value;
				inputString = inputString.split(" ");
				lastNumber = inputString[inputString.length - 1];
				lastNumber = parseFloat(lastNumber);
				lastNumber = Math.sqrt(lastNumber);
				inputString = inputString.join(" ");
				document.getElementById("txtInputAndResult").value = lastNumber;
			}
		
		function memorySubstraction()
			{
				var inputString;
				var result;
				var lastResult;
				var subtrahend;
				
				inputString = document.getElementById("txtInputAndResult").value;
				inputString = inputString.split(" ");
				lastResult = inputString[inputString.length - 1] 
				lastResult = parseFloat(lastResult);
				subtrahend = inputString[inputString.length - 3]
				subtrahend = parseFloat(subtrahend);
				result = lastResult - subtrahend;
				inputString = inputString.join(" ");
				document.getElementById("txtInputAndResult").value = inputString + " - " + subtrahend + " = " + result;			
			}
		
		function memoryAddition()
			{
				var inputString;
				var result;
				var lastResult;
				var addend;
				
				inputString = document.getElementById("txtInputAndResult").value;
				inputString = inputString.split(" ");
				lastResult = inputString[inputString.length - 1] 
				lastResult = parseFloat(lastResult);
				addend = inputString[inputString.length - 3]
				addend = parseFloat(addend);
				result = lastResult + addend;
				inputString = inputString.join(" ");
				document.getElementById("txtInputAndResult").value = inputString + " + " + addend + " = " + result;			
			}
		
		function computePercentage()
			{	
				var inputString;
				var lastNumber;
				var result;
				
				inputString = document.getElementById("txtInputAndResult").value;
				inputString = inputString.split(" ");
				lastNumber = inputString[inputString.length - 1];
				lastNumber = parseFloat(lastNumber);
				lastNumber = lastNumber / 100;	
				inputString = inputString.join(" ");
				inputString = inputString.substring(0, inputString.length - 2);
				document.getElementById("txtInputAndResult").value = inputString + " " + lastNumber;
			}
		
		function memoryRecall()
			{
				var inputString;
				var lastNumber;
				
				inputString = document.getElementById("txtInputAndResult").value;
				inputString = inputString.split(" ");
				lastNumber = inputString[inputString.length - 3];
				lastNumber = parseFloat(lastNumber);
				inputString = document.getElementById("txtInputAndResult").value;
				document.getElementById("txtInputAndResult").value = inputString + lastNumber;								
			}
		
		function displayInput(element) 
			{
				var inputString;
				var elementValue;
				
				elementValue = element.value;
				inputString = document.getElementById("txtInputAndResult").value
				inputString = inputString + elementValue;
					
				document.getElementById("txtInputAndResult").value = inputString;
			
				var equals = document.getElementById("btnEquals").value;
				
				if (elementValue == equals)
					{
						var ctr = 0;
						var result;
						
						inputString = inputString.split(" ");
						
						result= inputString[0];								
						result = parseFloat(result);
						//alert(inputString);
						while (ctr < inputString.length)
							{
								var operand;
								var operator;
								
								operator = inputString[ctr + 1];
								//alert(operator);
								operand = inputString[ctr + 2];
								operand = parseFloat(operand);
								//alert(operand);
								
								if (operator == "/")
									{
										result = result / operand;
										//result = parseFloat(result);
									}
										
								if (operator == "x")
									{
										result = result * operand;
										//result = parseFloat(result);
									}
								
								if (operator == "-")
									{
										result = result - operand;
										//result = parseFloat(result);
									}
								
								if (operator == "+")
								{
									result = result + operand;
									//result = parseFloat(result);
								}
								
								ctr = ctr + 2;

							}
						inputString = inputString.join(" ");
						document.getElementById("txtInputAndResult").value = inputString + result;					
					}				
			}
		</script>		
	</body>
</html>
